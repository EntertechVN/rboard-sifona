extends layout

block content
    div#app.row
        div(v-for="bkd in boards.bkds").col-5
            div.board-container
                table.board
                    tr
                        td MỤC TIÊU NGÀY
                        td
                            span.value 0
                    tr
                        td MỤC TIÊU HIỆN TẠI
                        td
                            span.value {{ bkd.MThientai }}
                    tr
                        td SẢN LƯỢNG THỰC TẾ
                        td
                            span.value {{ bkd.SLThucte }}
                    tr
                        td CHÊNH LỆCH
                        td
                            span.value 0
                    tr
                        td HIỆU SUẤT (%)
                        td
                            span.value 0
                            span  %
            div
                table#bkd-setting
                    tr
                        td  Cycle (giây):
                            input(type='number')#CycleTime
                        td
                            button#SubmitCycleTime Submit
                    tr
                        td  Mục tiêu ngày:
                            input(type='number')#MTNgay
                        td
                            button#SubmitMTNgay Submit
    script.
        var app = new Vue({
            el: '#app',
            data: {
                boards: {
                    bkds: [{MThientai: 0, SLThucte: 0}]
                }
            }
        })

        var socket = io();
        socket.on('connect', function () {
            console.log('connected');
            socket.emit('get data');
        });

        socket.on('disconnect', function () {
            console.log('disconnected');
        });

        socket.on('set data', function (boards) {
            console.log(boards);
            app.boards = boards
        })

        socket.on('data updated',function () {
            socket.emit('get data');
        })